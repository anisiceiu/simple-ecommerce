@using ECommerce.Application.DTOs
@model ProductDto
<!-- content-wraper start -->
<div class="content-wraper">
    <div class="container">
        <div class="row single-product-area">
            <div class="col-lg-5 col-md-6">
                <!-- Product Details Left -->
                <div class="product-details-left">
                    <div class="product-details-images slider-navigation-1">
                        <div class="lg-image">
                            <a class="popup-img venobox vbox-item" href="images/product/large-size/1.jpg" data-gall="myGallery">
                                <img src="images/product/large-size/1.jpg" alt="product image">
                            </a>
                        </div>

                    </div>
                    <!--// Product Details Left -->
                </div>
            </div>
            <div class="col-lg-7 col-md-6">
                <div class="product-details-view-content pt-60">
                    <div class="product-info">
                        <h2>@Model.Name</h2>
                        <span class="product-details-ref">Reference: demo_15</span>
                       @*  <div class="rating-box pt-20">
                            @if (User.Identity.IsAuthenticated)
                            {
                                <ul class="rating user-rating" data-product-id="@Model.Id">
                                    @for (int i = 1; i <= 5; i++)
                                    {
                                        <li data-value="@i">
                                            <i class="fa fa-star-o"></i>
                                        </li>
                                    }
                                </ul>
                            }
                            else
                            {
                                <div class="rating-box">
                                    <ul class="avg-rating">
                                        @for (int i = 1; i <= 5; i++)
                                        {
                                            if (i <= Math.Round(Model.AverageRating))
                                            {
                                                <li><i class="fa fa-star"></i></li>
                                            }
                                            else
                                            {
                                                <li><i class="fa fa-star-o"></i></li>
                                            }
                                        }
                                    </ul>
                                    <small>(@Model.TotalRatings ratings)</small>
                                </div>
                            }
                        </div> *@
                        <div class="price-box pt-20">
                            <span class="new-price new-price-2">$@Model.Price</span>
                        </div>
                        <div class="product-desc">
                            <p>
                                <span>
                                    100% cotton double printed dress. Black and white striped top and orange high waisted skater skirt bottom. Lorem ipsum dolor sit amet, consectetur adipisicing elit. quibusdam corporis, earum facilis et nostrum dolorum accusamus similique eveniet quia pariatur.
                                </span>
                            </p>
                        </div>

                        <div class="single-add-to-cart">
                            <div class="cart-quantity" style="margin-bottom:10px;">
                                <button style="cursor:pointer" class="add-to-cart" data-id="@Model.Id" data-name="@Model.Name" data-price="@Model.Price">Add to cart</button>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- content-wraper end -->


<script>
      $(document).ready(function () {
        $('.user-rating li').click(function () {
            let rating = $(this).data('value');
            let productId = $('.user-rating').data('product-id');

            $.post('/Product/Rate', {
                productId: productId,
                rating: rating
            }, function () {
                location.reload();
            });
        });
    });
</script>